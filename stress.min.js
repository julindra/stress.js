!function(t,e,s,a){var n="stress",l="plugin_"+n,o=["active","complete","fail"],i=function(t,e){this.element=t,this.options={total:2},this.init(e)};i.prototype={init:function(e){if(t.extend(this.options,e),this.options.total<=1||this.options.total>12)return void alert("total must be > 1 and <= 12");var s=[6,4,3,2,2,1,1,1,1,1,1],a=["","","","five-cols","","seven-cols","eight-cols","nine-cols","ten-cols","eleven-cols",""],n='<div class="col-xs-'+s[this.options.total-2]+' stress-step"><div class="progress"><div class="progress-bar"></div></div><span class="stress-circle"></span></div>';this.element.addClass("row "+a[this.options.total-2]),this.element.attr("data-stress","stress");for(var l="",i=1;i<=this.options.total;i++)l+=n;this.element.html(l);var r=parseInt(this.element.attr("data-now")?this.element.attr("data-now"):1),d=this.element.attr("data-status"),p=this.element.attr("data-title-on-now");if(0>=r||r>this.options.total)return void alert("data-now must be > 0 and <= "+this.options.total);if(d){if(-1==o.indexOf(d))return void alert("invalid data-status");for(var h=r-1,i=1;h>=i;i++)this.element.find(".stress-step").eq(i-1).addClass("complete");this.element.find(".stress-step").eq(h).addClass(d),p&&(this.element.find(".stress-step").eq(h).attr("data-balloon-length","small"),this.element.find(".stress-step").eq(h).attr("data-balloon-pos","up"),this.element.find(".stress-step").eq(h).attr("data-balloon",p)),"complete"==d&&r<this.options.total&&this.element.find(".stress-step").eq(h).addClass("not-last")}},update:function(t,e){if("now"==t){var s=parseInt(this.element.attr("data-now")?this.element.attr("data-now"):1)-1;this.element.find(".stress-step").eq(s).removeAttr("data-balloon-length data-balloon-pos data-balloon");var a=parseInt(e),n=this.element.attr("data-status"),l=this.element.attr("data-title-on-now");if(0>=a||a>this.options.total)return void alert("data-now must be > 0 and <= "+this.options.total);if(this.element.attr("data-now",a),n){if(-1==o.indexOf(n))return void alert("invalid data-status");var i=a-1;this.element.find(".stress-step").removeClass("complete fail active not-last");for(var r=1;i>=r;r++)this.element.find(".stress-step").eq(r-1).addClass("complete");this.element.find(".stress-step").eq(i).addClass(n),l&&(this.element.find(".stress-step").eq(i).attr("data-balloon-length","small"),this.element.find(".stress-step").eq(i).attr("data-balloon-pos","up"),this.element.find(".stress-step").eq(i).attr("data-balloon",l)),"complete"==n&&a<this.options.total&&this.element.find(".stress-step").eq(i).addClass("not-last")}}else if("status"==t){var s=parseInt(this.element.attr("data-now")?this.element.attr("data-now"):1)-1;this.element.find(".stress-step").eq(s).removeAttr("data-balloon-length data-balloon-pos data-balloon");var a=parseInt(this.element.attr("data-now")?this.element.attr("data-now"):1),n=e,l=this.element.attr("data-title-on-now");if(0>=a||a>this.options.total)return void alert("data-now must be > 0 and <= "+this.options.total);if(n){if(-1==o.indexOf(n))return void alert("invalid data-status");this.element.attr("data-status",n);var i=a-1;this.element.find(".stress-step").removeClass("complete fail active not-last");for(var r=1;i>=r;r++)this.element.find(".stress-step").eq(r-1).addClass("complete");this.element.find(".stress-step").eq(i).addClass(n),l&&(this.element.find(".stress-step").eq(i).attr("data-balloon-length","small"),this.element.find(".stress-step").eq(i).attr("data-balloon-pos","up"),this.element.find(".stress-step").eq(i).attr("data-balloon",l)),"complete"==n&&a<this.options.total&&this.element.find(".stress-step").eq(i).addClass("not-last")}}else if("title-on-now"==t){var a=parseInt(this.element.attr("data-now")?this.element.attr("data-now"):1),l=e;if(0>=a||a>this.options.total)return void alert("data-now must be > 0 and <= "+this.options.total);var i=a-1;l&&(this.element.attr("data-title-on-now",l),this.element.find(".stress-step").eq(i).attr("data-balloon",l))}},"delete":function(){this.element.removeAttr("data-stress"),this.element.removeClass("row"),this.element.html("")},addTitle:function(t,e){return t=parseInt(t),0>=t||t>this.options.total?void alert("step must be > 0 and <= "+this.options.total):(t-=1,void(e&&(this.element.find(".stress-step").eq(t).removeAttr("data-balloon-length data-balloon-pos data-balloon"),this.element.find(".stress-step").eq(t).attr("data-balloon-length","small"),this.element.find(".stress-step").eq(t).attr("data-balloon-pos","up"),this.element.find(".stress-step").eq(t).attr("data-balloon",e))))},updateTitle:function(t,e){return t=parseInt(t),0>=t||t>this.options.total?void alert("step must be > 0 and <= "+this.options.total):(t-=1,void(e&&(this.element.find(".stress-step").eq(t).attr("data-balloon-length")&&this.element.find(".stress-step").eq(t).attr("data-balloon-pos")?this.element.find(".stress-step").eq(t).attr("data-balloon",e):(this.element.find(".stress-step").eq(t).attr("data-balloon-length","small"),this.element.find(".stress-step").eq(t).attr("data-balloon-pos","up"),this.element.find(".stress-step").eq(t).attr("data-balloon",e)))))},deleteTitle:function(t){return t=parseInt(t),0>=t||t>this.options.total?void alert("step must be > 0 and <= "+this.options.total):(t-=1,void this.element.find(".stress-step").eq(t).removeAttr("data-balloon-length data-balloon-pos data-balloon"))}},t.fn[n]=function(t){var e=this.data(l);return e instanceof i?"undefined"!=typeof t&&e.init(t):(e=new i(this,t),this.data(l,e)),e}}(jQuery,window,document);